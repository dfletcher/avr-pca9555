<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>PCA9555: PCA9555 Driver</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PCA9555 Driver</h1>PCA9555 Driver.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g5c0ecf13b556f764c71ddfdbe6271a08">PCA9555_DEVICE_ADDRESS</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477">PCA9555_DEV_000</a> =  0b000, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926a98b1fdff6a1f62a2c333f5eafd481725">PCA9555_DEV_001</a> =  0b001, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926a2bd99e198e92ef35507870a3f3607639">PCA9555_DEV_010</a> =  0b010, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926a43f794a250b951461262b65f53cddc1d">PCA9555_DEV_011</a> =  0b011, 
<br>
&nbsp;&nbsp;<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926ac0d12b6a492050753e19214738d19bf2">PCA9555_DEV_100</a> =  0b100, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926ad286a07bb3cf6d5b4a3ba1d29cf14de9">PCA9555_DEV_101</a> =  0b101, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aecf00b327789cb7429d20d3b857825cd">PCA9555_DEV_110</a> =  0b110, 
<a class="el" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926ab85d6d6eefe12d2182625a60cf6e80d9">PCA9555_DEV_111</a> =  0b111
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a> { <a class="el" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128b95389a1f0567e4a5e440e25fde493562">PCA9555_PORT_0</a> =  0, 
<a class="el" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128bc8019c1a57e9701b56443621c3ae1a75">PCA9555_PORT_1</a> =  1
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b92b031ada98b1923896808e2ffe8d5b6b8">PCA9555_INPUT_0</a> =  0, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b929d4e21580e28e2d55634523abbd6b09f">PCA9555_INPUT_1</a> =  1, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b92c6c362300c127aef1ac0d5ee9d3a59da">PCA9555_OUTPUT_0</a> =  2, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b92bde2361be86cc8e9b609738dbe8c2dc3">PCA9555_OUTPUT_1</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b922ccdc24823eef414c72fa5531f931a48">PCA9555_POLARITY_INV_0</a> =  4, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b924b616da07fa3abfbc8afebe59c33843a">PCA9555_POLARITY_INV_1</a> =  5, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b920067fb2b574fd905a8a44fe2bdc9998f">PCA9555_DIRECTION_0</a> =  6, 
<a class="el" href="group__fletchtronics__pca9555.html#ggcaa5dd420349e3cc28c5979a4a7c1b92730a699922ca90de21442c75e5a8c92a">PCA9555_DIRECTION_1</a> =  7
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#gae5fab131b102d699bc773acd025b0d2">PCA9555_init</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#gbbcb57461a33e668f7a71e0bab1d7179">PCA9555_write</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a> reg, uint8_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g9b4b83bbdac0ddf7a818937a9b808903">PCA9555_read</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a> reg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g0af3f6959e2c79485463347b8d95b0ff">PCA9555_dir</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a> port, uint8_t dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g49f161b9087a4d8a811268a380b524e0">PCA9555_pol</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a> port, uint8_t pol)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g8c4c02be8c45bf2392dd6b4a9d1ed6a9">PCA9555_set</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a> port, uint8_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fletchtronics__pca9555.html#g33c616aef475b31053fd791a5f14860a">PCA9555_get</a> (<a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a> dev, <a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a> port)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
PCA9555 Driver. 
<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="PCA9555_8h.html">PCA9555.h</a>&gt;</span> 
</pre></div><p>
AVR driver for PCA9555. Wraps all PCA9555 functions in a simple C interface.<p>
The PCA9555 driver requres Peter Fleury's I2C master library, which is included in this package. AVRs with a TWI interface can replace the i2cmaster.S source in the makefile with twimaster.c, which uses the AVR's i2c hardware. If using the software i2cmaster.S version, configure the I2C pins at the top of the i2cmaster.S file.<p>
An example schematic, Cadsoft Eagle files, and other details can be found at: <a href="http://fletchtronics.net/pca9555">http://fletchtronics.net/pca9555</a><p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Dave Fletcher &lt;<a href="mailto:fletch@fletchtronics.net">fletch@fletchtronics.net</a>&gt; <a href="http://fletchtronics.net">http://fletchtronics.net</a></dd></dl>
<dl class="user" compact><dt><b>API Usage Example</b></dt><dd>The following code shows typical usage of this library. This example uses the PCINT interrupt structure for at90usb162. There are more examples in the root directory of this distribution.</dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;<a class="code" href="PCA9555_8h.html">PCA9555.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;util/delay.h&gt;</span>
<span class="preprocessor">  #include &lt;avr/interrupt.h&gt;</span>

  uint8_t pca9555interrupt = 0; <span class="comment">// global PCA9555 INT detector</span>
  SIGNAL(PCINT1_vect) { pca9555interrupt = 1; } <span class="comment">// PCA9555 INT changed</span>

  <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {
    <span class="keywordtype">int</span> pca9555val = 0; <span class="comment">// value for port 0</span>
    <a class="code" href="group__fletchtronics__pca9555.html#gae5fab131b102d699bc773acd025b0d2" title="Initialize the PCA9555 driver.">PCA9555_init</a>(); <span class="comment">// start up</span>
    <a class="code" href="group__fletchtronics__pca9555.html#g0af3f6959e2c79485463347b8d95b0ff" title="Set the direction of a port.">PCA9555_dir</a>(<a class="code" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477">PCA9555_DEV_000</a>, <a class="code" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128b95389a1f0567e4a5e440e25fde493562">PCA9555_PORT_0</a>, 0b00000000); <span class="comment">// port 0 output</span>
    <a class="code" href="group__fletchtronics__pca9555.html#g0af3f6959e2c79485463347b8d95b0ff" title="Set the direction of a port.">PCA9555_dir</a>(<a class="code" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477">PCA9555_DEV_000</a>, <a class="code" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128bc8019c1a57e9701b56443621c3ae1a75">PCA9555_PORT_1</a>, 0b11111111); <span class="comment">// port 1 input</span>
    PCMSK1 |= (1&lt;&lt;PCINT11); <span class="comment">// enable PCINT11, connect PCA9555 INT to it</span>
    PCICR |= (1&lt;&lt;PCIE1); <span class="comment">// enable PCIE1, the PCINT1 interrupt vector</span>
    sei(); <span class="comment">// enable interrupts</span>
    <span class="keywordflow">while</span> (1) {
      _delay_ms(10); <span class="comment">// wait a bit so the counting on output goes slow</span>
      <a class="code" href="group__fletchtronics__pca9555.html#g8c4c02be8c45bf2392dd6b4a9d1ed6a9" title="Set values on a port.">PCA9555_set</a>(<a class="code" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477">PCA9555_DEV_000</a>, <a class="code" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128b95389a1f0567e4a5e440e25fde493562">PCA9555_PORT_0</a>, pca9555val++); <span class="comment">// count</span>
      <span class="keywordflow">if</span> (pca9555interrupt) {
        uint8_t value = <a class="code" href="group__fletchtronics__pca9555.html#g33c616aef475b31053fd791a5f14860a" title="Get values from a port.">PCA9555_get</a>(<a class="code" href="group__fletchtronics__pca9555.html#ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477">PCA9555_DEV_000</a>, <a class="code" href="group__fletchtronics__pca9555.html#ggc49b8255684fe38a1978f9fee00a128bc8019c1a57e9701b56443621c3ae1a75">PCA9555_PORT_1</a>); <span class="comment">// read</span>
        <span class="comment">// Do something useful with 'value' here.</span>
        pca9555interrupt = 0; <span class="comment">// reset so we only process the interrupt once</span>
      }
      <span class="keywordflow">return</span> 0;
    }
  }
</pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="g5c0ecf13b556f764c71ddfdbe6271a08"></a><!-- doxytag: member="PCA9555.h::PCA9555_DEVICE_ADDRESS" ref="g5c0ecf13b556f764c71ddfdbe6271a08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCA9555_DEVICE_ADDRESS&nbsp;&nbsp;&nbsp;0x40          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="PCA9555_8h-source.html#l00092">92</a> of file <a class="el" href="PCA9555_8h-source.html">PCA9555.h</a>.</p>

<p>Referenced by <a class="el" href="PCA9555_8c-source.html#l00040">PCA9555_read()</a>, and <a class="el" href="PCA9555_8c-source.html#l00033">PCA9555_write()</a>.</p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="gfd0dcbd1930f02a785ffe5187e14926a"></a><!-- doxytag: member="PCA9555.h::PCA9555_DEVICE" ref="gfd0dcbd1930f02a785ffe5187e14926a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Eight possible device addresses. 
<p>
The rightmost (least significant) bit is A0 on the device. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477"></a><!-- doxytag: member="PCA9555_DEV_000" ref="ggfd0dcbd1930f02a785ffe5187e14926aaa29bd1932bee07288fa78c61bb20477" args="" -->PCA9555_DEV_000</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926a98b1fdff6a1f62a2c333f5eafd481725"></a><!-- doxytag: member="PCA9555_DEV_001" ref="ggfd0dcbd1930f02a785ffe5187e14926a98b1fdff6a1f62a2c333f5eafd481725" args="" -->PCA9555_DEV_001</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926a2bd99e198e92ef35507870a3f3607639"></a><!-- doxytag: member="PCA9555_DEV_010" ref="ggfd0dcbd1930f02a785ffe5187e14926a2bd99e198e92ef35507870a3f3607639" args="" -->PCA9555_DEV_010</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926a43f794a250b951461262b65f53cddc1d"></a><!-- doxytag: member="PCA9555_DEV_011" ref="ggfd0dcbd1930f02a785ffe5187e14926a43f794a250b951461262b65f53cddc1d" args="" -->PCA9555_DEV_011</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926ac0d12b6a492050753e19214738d19bf2"></a><!-- doxytag: member="PCA9555_DEV_100" ref="ggfd0dcbd1930f02a785ffe5187e14926ac0d12b6a492050753e19214738d19bf2" args="" -->PCA9555_DEV_100</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926ad286a07bb3cf6d5b4a3ba1d29cf14de9"></a><!-- doxytag: member="PCA9555_DEV_101" ref="ggfd0dcbd1930f02a785ffe5187e14926ad286a07bb3cf6d5b4a3ba1d29cf14de9" args="" -->PCA9555_DEV_101</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926aecf00b327789cb7429d20d3b857825cd"></a><!-- doxytag: member="PCA9555_DEV_110" ref="ggfd0dcbd1930f02a785ffe5187e14926aecf00b327789cb7429d20d3b857825cd" args="" -->PCA9555_DEV_110</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggfd0dcbd1930f02a785ffe5187e14926ab85d6d6eefe12d2182625a60cf6e80d9"></a><!-- doxytag: member="PCA9555_DEV_111" ref="ggfd0dcbd1930f02a785ffe5187e14926ab85d6d6eefe12d2182625a60cf6e80d9" args="" -->PCA9555_DEV_111</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="PCA9555_8h-source.html#l00098">98</a> of file <a class="el" href="PCA9555_8h-source.html">PCA9555.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc49b8255684fe38a1978f9fee00a128b"></a><!-- doxytag: member="PCA9555.h::PCA9555_PORT" ref="gc49b8255684fe38a1978f9fee00a128b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Two ports on a PCA9555, port 0 and port 1. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggc49b8255684fe38a1978f9fee00a128b95389a1f0567e4a5e440e25fde493562"></a><!-- doxytag: member="PCA9555_PORT_0" ref="ggc49b8255684fe38a1978f9fee00a128b95389a1f0567e4a5e440e25fde493562" args="" -->PCA9555_PORT_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggc49b8255684fe38a1978f9fee00a128bc8019c1a57e9701b56443621c3ae1a75"></a><!-- doxytag: member="PCA9555_PORT_1" ref="ggc49b8255684fe38a1978f9fee00a128bc8019c1a57e9701b56443621c3ae1a75" args="" -->PCA9555_PORT_1</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="PCA9555_8h-source.html#l00112">112</a> of file <a class="el" href="PCA9555_8h-source.html">PCA9555.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcaa5dd420349e3cc28c5979a4a7c1b92"></a><!-- doxytag: member="PCA9555.h::PCA9555_REGISTER" ref="gcaa5dd420349e3cc28c5979a4a7c1b92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers in a PCA9555. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b92b031ada98b1923896808e2ffe8d5b6b8"></a><!-- doxytag: member="PCA9555_INPUT_0" ref="ggcaa5dd420349e3cc28c5979a4a7c1b92b031ada98b1923896808e2ffe8d5b6b8" args="" -->PCA9555_INPUT_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b929d4e21580e28e2d55634523abbd6b09f"></a><!-- doxytag: member="PCA9555_INPUT_1" ref="ggcaa5dd420349e3cc28c5979a4a7c1b929d4e21580e28e2d55634523abbd6b09f" args="" -->PCA9555_INPUT_1</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b92c6c362300c127aef1ac0d5ee9d3a59da"></a><!-- doxytag: member="PCA9555_OUTPUT_0" ref="ggcaa5dd420349e3cc28c5979a4a7c1b92c6c362300c127aef1ac0d5ee9d3a59da" args="" -->PCA9555_OUTPUT_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b92bde2361be86cc8e9b609738dbe8c2dc3"></a><!-- doxytag: member="PCA9555_OUTPUT_1" ref="ggcaa5dd420349e3cc28c5979a4a7c1b92bde2361be86cc8e9b609738dbe8c2dc3" args="" -->PCA9555_OUTPUT_1</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b922ccdc24823eef414c72fa5531f931a48"></a><!-- doxytag: member="PCA9555_POLARITY_INV_0" ref="ggcaa5dd420349e3cc28c5979a4a7c1b922ccdc24823eef414c72fa5531f931a48" args="" -->PCA9555_POLARITY_INV_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b924b616da07fa3abfbc8afebe59c33843a"></a><!-- doxytag: member="PCA9555_POLARITY_INV_1" ref="ggcaa5dd420349e3cc28c5979a4a7c1b924b616da07fa3abfbc8afebe59c33843a" args="" -->PCA9555_POLARITY_INV_1</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b920067fb2b574fd905a8a44fe2bdc9998f"></a><!-- doxytag: member="PCA9555_DIRECTION_0" ref="ggcaa5dd420349e3cc28c5979a4a7c1b920067fb2b574fd905a8a44fe2bdc9998f" args="" -->PCA9555_DIRECTION_0</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggcaa5dd420349e3cc28c5979a4a7c1b92730a699922ca90de21442c75e5a8c92a"></a><!-- doxytag: member="PCA9555_DIRECTION_1" ref="ggcaa5dd420349e3cc28c5979a4a7c1b92730a699922ca90de21442c75e5a8c92a" args="" -->PCA9555_DIRECTION_1</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="PCA9555_8h-source.html#l00120">120</a> of file <a class="el" href="PCA9555_8h-source.html">PCA9555.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g0af3f6959e2c79485463347b8d95b0ff"></a><!-- doxytag: member="PCA9555.h::PCA9555_dir" ref="g0af3f6959e2c79485463347b8d95b0ff" args="(PCA9555_DEVICE dev, PCA9555_PORT port, uint8_t dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9555_dir           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a>&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the direction of a port. 
<p>
Implemented as a macro. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Write to port 0 or 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>8 bit direction of the pins. 1 means input, 0 output. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g33c616aef475b31053fd791a5f14860a"></a><!-- doxytag: member="PCA9555.h::PCA9555_get" ref="g33c616aef475b31053fd791a5f14860a" args="(PCA9555_DEVICE dev, PCA9555_PORT port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PCA9555_get           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a>&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get values from a port. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Write to port 0 or 1. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>8 bit value on the port. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gae5fab131b102d699bc773acd025b0d2"></a><!-- doxytag: member="PCA9555.h::PCA9555_init" ref="gae5fab131b102d699bc773acd025b0d2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9555_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the PCA9555 driver. 
<p>

<p>Definition at line <a class="el" href="PCA9555_8c-source.html#l00029">29</a> of file <a class="el" href="PCA9555_8c-source.html">PCA9555.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g49f161b9087a4d8a811268a380b524e0"></a><!-- doxytag: member="PCA9555.h::PCA9555_pol" ref="g49f161b9087a4d8a811268a380b524e0" args="(PCA9555_DEVICE dev, PCA9555_PORT port, uint8_t pol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9555_pol           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a>&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>pol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invert the polarity of pins on a port. 
<p>
Take care when using this function as it inverts the current polarity settings, it is not an absolute value. If the PCA9555 has not been reset but the microcontroller has been, this might not contain the value you expect. This is complicated by the fact that this chip does not have any RESET line or i2c command that can be accessed from a microcontroller. Implemented as a macro. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Write to port 0 or 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pol</em>&nbsp;</td><td>8 bit polarity of the pins. 1 means invert, 0 no change. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g9b4b83bbdac0ddf7a818937a9b808903"></a><!-- doxytag: member="PCA9555.h::PCA9555_read" ref="g9b4b83bbdac0ddf7a818937a9b808903" args="(PCA9555_DEVICE dev, PCA9555_REGISTER reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PCA9555_read           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a>&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Low level read command. 
<p>
Uses i2cmaster library to communicate with the device. Calls i2c_start_wait, which waits for ACK from the device, so if the specified device is not on the i2c bus, it will wait forever. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to read. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>value Value read from the device. </dd></dl>

<p>Definition at line <a class="el" href="PCA9555_8c-source.html#l00040">40</a> of file <a class="el" href="PCA9555_8c-source.html">PCA9555.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8c4c02be8c45bf2392dd6b4a9d1ed6a9"></a><!-- doxytag: member="PCA9555.h::PCA9555_set" ref="g8c4c02be8c45bf2392dd6b4a9d1ed6a9" args="(PCA9555_DEVICE dev, PCA9555_PORT port, uint8_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9555_set           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gc49b8255684fe38a1978f9fee00a128b">PCA9555_PORT</a>&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set values on a port. 
<p>
Implemented as a macro. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Write to port 0 or 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>New 8 bit value for the port. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gbbcb57461a33e668f7a71e0bab1d7179"></a><!-- doxytag: member="PCA9555.h::PCA9555_write" ref="gbbcb57461a33e668f7a71e0bab1d7179" args="(PCA9555_DEVICE dev, PCA9555_REGISTER reg, uint8_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9555_write           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gfd0dcbd1930f02a785ffe5187e14926a">PCA9555_DEVICE</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fletchtronics__pca9555.html#gcaa5dd420349e3cc28c5979a4a7c1b92">PCA9555_REGISTER</a>&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Low level write command. 
<p>
Uses i2cmaster library to communicate with the device. Calls i2c_start_wait, which waits for ACK from the device, so if the specified device is not on the i2c bus, it will wait forever. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>3 bit device address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>Register to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Value to write. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="PCA9555_8c-source.html#l00033">33</a> of file <a class="el" href="PCA9555_8c-source.html">PCA9555.c</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jan 25 13:12:04 2010 for PCA9555 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
